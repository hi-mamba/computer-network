


# tcp的复杂机制

# linux中对tcp/ip协议栈的实现



典型的tcp协议要求每一个数据段发送之后都要有一个ack回复，


然后才能发送下一个数据段，虽然这样能保证数据的可靠传输，但是效率呢？

由于tcp是全双工通信，在等待一个数据段的ack恢复之前网络将会闲置，
因此效率将会受到极大影响，因此协议提出了滑动窗口子协议，专门负责数据的传输，

滑动窗口子协议分为简单的停-等协议，后退N协议，以及选择重传协议三个子子协议，
其实三个子子协议可以由一个例程表示，只是一个例程的三个不同情况，
比如发送和接收窗口都为1时就是简单的停等协议。

三个子子协议都很复杂，只有靠这种复杂的机制才换取了网络链路的高效利用。