
# 网络协议和网络编程



##  七层

物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。


socket则是对TCP/IP协议的封装和应用(程序员层面上)。

也可以说，TPC/IP协议是传输层协议，主要解决数据如何在网络中传输，

而HTTP是应用层协议，主要解决如何包装数据。


## 什么是 TCP/IP?
TCP/IP 是一类协议系统，它是用于网络通信的一套协议集合．
   
## 什么是TCP连接的三次握手

第一次握手：客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认;

第二次握手：服务器收到syn包，必须确认客户的SYN(ack=j+1)，同时自己也发送一个SYN包(syn=k)，即SYN+ACK包，
此时服务器进入SYN_RECV状态;

第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，
客户端和服务器进入ESTABLISHED状态，完成三次握手。


握手过程中传送的包里不包含数据，三次握手完毕后，客户端与服务器才正式开始传送数据。
理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连接之前，TCP 连接都将被一直保持下去。

断开连接时服务器和客户端均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”(过程就不细写了，
就是服务器和客户端交互，最终确定断开)


## 啥是HTTPS? 

说白了就是HTTP Over SSL

## HTTPS的工作原理

HTTPS在传输数据之前需要客户端（浏览器）与服务端（网站）之间进行一次握手，
在握手过程中将确立双方加密传输数据的密码信息。

TLS/SSL协议不仅仅是一套加密传输的协议，更是一件经过艺术家精心设计的艺术品，
TLS/SSL中使用了非对称加密，对称加密以及HASH算法.

握手过程的简单描述如下：

1.浏览器将自己支持的一套加密规则发送给网站。

2.网站从中选出一组加密算法与HASH算法，并将自己的身份信息以证书的形式发回给浏览器。
证书里面包含了网站地址，加密公钥，以及证书的颁发机构等信息。

3.获得网站证书之后浏览器要做以下工作：

a) 验证证书的合法性（颁发证书的机构是否合法，证书中包含的网站地址是否与正在访问的地址一致等），
如果证书受信任，则浏览器栏里面会显示一个小锁头，否则会给出证书不受信的提示。

b) 如果证书受信任，或者是用户接受了不受信的证书，浏览器会生成一串随机数的密码，并用证书中提供的公钥加密。

c) 使用约定好的HASH计算握手消息，并使用生成的随机数对消息进行加密，最后将之前生成的所有信息发送给网站。

4.网站接收浏览器发来的数据之后要做以下的操作：

a) 使用自己的私钥将信息解密取出密码，使用密码解密浏览器发来的握手消息，并验证HASH是否与浏览器发来的一致。

b) 使用密码加密一段握手消息，发送给浏览器。

5.浏览器解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，
之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密。
这里浏览器与网站互相发送加密的握手消息并验证，目的是为了保证双方都获得了一致的密码，并且可以正常的加密解密数据，
为后续真正数据的传输做一次测试。


另外，HTTPS一般使用的加密与HASH算法如下：
 
  
   非对称加密算法：RSA, DSA/DSS

   对称加密算法： AES, 3DES

   HASH算法：MD5, SHA1, SHA256


<https://www.jianshu.com/p/650ad90bf563>

<https://www.guokr.com/post/114121/> 

## TCP建立连接的过程。

## TCP断开连接的过程。

## HTTP返回码中301与302的区别

301 redirect: 301 代表永久性转移(Permanently Moved)。

302 redirect: 302 代表暂时性转移(Temporarily Moved )。

## 浏览器发生302跳转背后的逻辑？

## HTTP协议的交互流程。HTTP和HTTPS的差异，SSL的交互流程？

## Rest和Http什么关系？ 大家都说Rest很轻量，你对Rest风格如何理解？

## TCP的滑动窗口协议有什么用？讲讲原理。

## HTTP协议都有哪些方法？

## 交换机和路由器的区别？

## 什么是VLAN，有什么作用?

## 什么是VXLAN，有什么作用？

## http协议（报文结构，断点续传，多线程下载，什么是长连接）

## tcp协议（建连过程，慢启动，滑动窗口，七层模型）

## webservice协议（wsdl/soap格式，与rest协议的区别）

## spdy/http2.0协议是否有了解

## NIO的好处，Netty线程模型，什么是零拷贝
 